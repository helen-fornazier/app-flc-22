<template>
  <MrCard>
    <div class=card-header></div>
    <div class="icon">
        <ion-button class="icon-button" shape=round fill=clear size=small>
            <ion-icon :icon=personOutline fill=clear></ion-icon>
        </ion-button>
    </div>
    <div class="main-text"><span>{{ fastdata.user.nome}}, você está no nível {{ fastdata.user.nivel }}</span></div>
    <div class="horizontal">
        <div class="progress">
            <div class="chart"><MrProgress /></div>
            <ion-button class="progress-button" shape=round fill=clear size=small>
                <div class="vertical">
                <span class="pts">{{ this.fastdata.user.pts }}</span>
                <span class="nivel-pts">/{{ this.fastdata.user.proximo_nivel }}</span>
                </div>
            </ion-button>
        </div>
        <div class="progress-text">Alcance o próximo nível acumulando mais {{ this.fastdata.user.proximo_nivel - this.fastdata.user.pts }} pontos.</div>
    </div>
  </MrCard>
</template>

<script lang="ts">
import { defineComponent } from 'vue';
import { IonButton, IonIcon } from '@ionic/vue';
import MrCard from '@/components/MrCard.vue';
import MrProgress from '@/components/MrProgress.vue';
import { personOutline } from 'ionicons/icons';

export default defineComponent({
  name: 'MrPerfilCard',
  components: {
    MrCard,
    IonButton,
    IonIcon,
    MrProgress,
  },
  inject: ["fastdata"],
  setup() {
    return {
      personOutline,
    }
  }
});
</script>

<style scoped>
.card-header {
  height: 40px;
  background-color: var(--ion-color-secondary);
  color: var(--ion-color-secondary-contrast);
  width: 100%;
}
.pts {
  font-size: 25px;
  color: var(--ion-color-primary);
  font-weight: bold;
  margin: 0;
  padding: 0;
  letter-spacing: 0px;
}
.nivel-pts {
  font-size: 10px;
  margin: 0;
  padding: 0;
  letter-spacing: 0px;
}
ion-button {
  margin: 0;
  padding: 0;
  --background: var(--ion-background-color);
  color: var(--ion-color-medium);
}
.icon-button {
  width: 60px;
  height: 60px;
  position: relative;
  top: -30px
}
.progress-button {
  width: 70px;
  height: 70px;
  position: relative;
}
ion-icon {
  color: var(--ion-color-primary);
  z-index: 20;
  font-size: 64px;
  --ionicon-stroke-width: 50px;
}
.icon {
  height: 40px;
}
.main-text {
  width: 100%;
  margin-bottom: 20px;
  font-size: 20px;
  color: var(--ion-color-primary);
  font-weight: bold;
}
.progress {
  align-items: center;
  justify-content: center;
  display: flex;
  position: relative;
}
.progress-text {
  display: flex;
  position: relative;
  text-align: left;
  margin-inline: 30px;
  font-size: 12px;
}
.vertical {
  display: flex;
  flex-direction: column;
}
.horizontal {
  display: flex;
  flex-direction: row;
  margin-inline: 25px;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
}
.chart {
  height: 90px;
  width: 90px;
  position: absolute;
  top: -15px;
  z-index: 60;
}
</style>